<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MAT â€” Jack Solano</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- WALLPAPER / DESKTOP -->
  <div class="desktop">

    <!-- ICONOS DEL ESCRITORIO -->
    <div class="desktop-icons">
      <div class="desktop-icon" ondblclick="openMainWindow()">
        <div class="icon-img">ğŸ“</div>
        <span>ArtÃ­culos</span>
      </div>
      <div class="desktop-icon" ondblclick="openHorario()">
        <div class="icon-img">ğŸ“…</div>
        <span>Horario</span>
      </div>
      <div class="desktop-icon" ondblclick="confirmarSalida('/mi-comic')">
        <div class="icon-img">ğŸ“–</div>
        <span>Scribart</span>
      </div>
      <div class="desktop-icon" ondblclick="pedirContrasena()">
        <div class="icon-img">ğŸ”’</div>
        <span>Ãrea Privada</span>
      </div>
    </div>

    <!-- VENTANA BIENVENIDA (abierta por defecto) -->
    <div class="win98-window" id="win-bienvenida" style="top:80px; left:60px; width:280px;">
      <div class="win98-titlebar">
        <span class="win98-title"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==" width="14" height="14" style="margin-right:4px"> Bienvenido</span>
        <div class="win98-controls">
          <button class="win98-btn minimize" onclick="toggleMinimize(this)">_</button>
          <button class="win98-btn close" onclick="closeWin(this)">âœ•</button>
        </div>
      </div>
      <div class="win98-body">
        <p style="margin-bottom:8px;">ğŸ‘‹ Bienvenido a <strong>MAT</strong>.</p>
        <p style="color:#444; font-size:11px;">Sitio personal de Jack Solano.<br>Doble clic en los iconos para navegar.</p>
      </div>
    </div>

    <!-- VENTANA "VENTANA F" -->
    <div class="win98-window" id="win-f" style="top:220px; left:80px; width:260px;">
      <div class="win98-titlebar">
        <span class="win98-title">Ventana F</span>
        <div class="win98-controls">
          <button class="win98-btn minimize" onclick="toggleMinimize(this)">_</button>
          <button class="win98-btn close" onclick="closeWin(this)">âœ•</button>
        </div>
      </div>
      <div class="win98-body">
        <p style="font-size:11px; color:#333;">No hay prueba para demostrar la veracidad de la Ventana F.</p>
      </div>
    </div>

    <!-- VENTANA PRINCIPAL MATEMÃTICAS -->
    <div class="win98-window main-window" id="win-main" style="display:none; top:40px; left:50%; transform:translateX(-50%); width:min(900px,95vw);">
      <div class="win98-titlebar">
        <span class="win98-title">ğŸ“„ ArtÃ­culos â€” Jack Solano</span>
        <div class="win98-controls">
          <button class="win98-btn minimize" onclick="toggleMinimize(this)">_</button>
          <button class="win98-btn maximize" onclick="toggleMaximize('win-main')">â–¡</button>
          <button class="win98-btn close" onclick="document.getElementById('win-main').style.display='none'">âœ•</button>
        </div>
      </div>
      <div class="win98-menubar">
        <span class="menu-item">Archivo</span>
        <span class="menu-item">Editar</span>
        <span class="menu-item">Ver</span>
        <span class="menu-item">Ayuda</span>
      </div>
      <div class="win98-body main-body">
        <div class="sidebar">
          <div class="sidebar-section">NAVEGACIÃ“N</div>
          <div class="sidebar-item active">ğŸ“ ArtÃ­culos</div>
        </div>
        <div class="main-content-area">
          <div class="win98-toolbar">
            <span class="toolbar-label">Documentos de matemÃ¡ticas:</span>
          </div>
          <div class="file-list">
            <div class="file-item" ondblclick="openMathPDFWindow('matematicas/Sobre_la_Topologia_de_Zarisky.pdf','Sobre la TopologÃ­a de Zariski')">
              <span class="file-icon">ğŸ“„</span>
              <div class="file-info">
                <span class="file-name">Sobre la TopologÃ­a de Zariski</span>
                <span class="file-meta">PDF Â· TopologÃ­a</span>
              </div>
            </div>
            <div class="file-item" ondblclick="openMathPDFWindow('matematicas/Axioma_de_Eleccion_implica_Postulado_Kuratowski.pdf','Axioma de ElecciÃ³n â†’ Postulado Kuratowski')">
              <span class="file-icon">ğŸ“„</span>
              <div class="file-info">
                <span class="file-name">Axioma de ElecciÃ³n â†’ Postulado Kuratowski</span>
                <span class="file-meta">PDF Â· TeorÃ­a de Conjuntos</span>
              </div>
            </div>
          </div>
          <div class="statusbar-inner">2 objeto(s)</div>
        </div>
      </div>
    </div>

    <!-- VENTANA HORARIO (se genera dinÃ¡micamente) -->

  </div><!-- /desktop -->

  <!-- TASKBAR -->
  <div class="win98-taskbar">
    <button class="start-button" onclick="toggleStartMenu()">
      <span class="start-logo">âŠ</span> Inicio
    </button>
    <div class="taskbar-divider"></div>
    <div class="taskbar-tasks" id="taskbar-tasks"></div>
    <div class="taskbar-tray">
      <span id="hora-actual" class="tray-clock">00:00</span>
    </div>
  </div>

  <!-- MENÃš INICIO -->
  <div class="start-menu" id="start-menu" style="display:none;">
    <div class="start-menu-sidebar">
      <span>Jack Solano</span>
    </div>
    <div class="start-menu-items">
      <div class="start-item" onclick="openMainWindow(); toggleStartMenu()">ğŸ“„ ArtÃ­culos</div>
      <div class="start-item" onclick="openHorario(); toggleStartMenu()">ğŸ“… Horario</div>
      <div class="start-item" onclick="confirmarSalida('/mi-comic'); toggleStartMenu()">ğŸ“– Scribart</div>
      <div class="start-item" onclick="pedirContrasena(); toggleStartMenu()">ğŸ”’ Ãrea Privada</div>
      <div class="start-sep"></div>
      <div class="start-item" onclick="openWindow(); toggleStartMenu()">ğŸ’¬ Mensaje sistema</div>
      <div class="start-sep"></div>
      <div class="start-item shutdown">â» Apagar</div>
    </div>
  </div>

  <script src="frases.js"></script>
  <script src="script.js"></script>
  <script>
    // â”€â”€ HORARIO DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const horarioData = [
      { "Actividad": "FUNDAMENTOS DE MATEMATICAS", "DÃ­a": ["LUNES"], "Hora": ["10:00 - 12:00"], "Ubicacion": ["CAMILO TORRES"] },
      { "Actividad": "ALGEBRA MODERNA I", "DÃ­a": ["LUNES"], "Hora": ["14:00 - 16:00"], "Ubicacion": ["CAMILO TORRES"] },
      { "Actividad": "SEMINARIO TOPOLOGIA", "DÃ­a": ["LUNES"], "Hora": ["16:00 - 18:00"], "Ubicacion": ["CAMILO TORRES"] },
      { "Actividad": "TRABAJO CAMPOLLO", "DÃ­a": ["MARTES", "JUEVES"], "Hora": ["6:30 - 12:30", "14:30 - 16:30"], "Ubicacion": ["CONCORDIA", "CONCORDIA"] },
      { "Actividad": "TRABAJO DE GRADO", "DÃ­a": ["MIERCOLES"], "Hora": ["8:00 - 12:00", "14:00 - 17:00"], "Ubicacion": ["DEPENDE DEL DIA", "DEPENDE DEL DIA"] },
      { "Actividad": "TEORIA DE CONJUNTOS", "DÃ­a": ["VIERNES"], "Hora": ["6:00 - 8:00"], "Ubicacion": ["CAMILO TORRES"] },
      { "Actividad": "GEOMETRIA EUCLIDIANA", "DÃ­a": ["VIERNES"], "Hora": ["8:00 - 10:00"], "Ubicacion": ["CAMILO TORRES"] },
      { "Actividad": "TRABAJO CAMPOLLO", "DÃ­a": ["SABADO"], "Hora": ["DEPENDE DEL DIA"], "Ubicacion": ["DEPENDE DEL DIA"] },
      { "Actividad": "TRABAJO CAMPOLLO", "DÃ­a": ["DOMINGO"], "Hora": ["7:00 - 13:00"], "Ubicacion": ["GIRON"] },
      { "Actividad": "WORLD OF WARCRAFT", "DÃ­a": ["DOMINGO"], "Hora": ["16:00 - 21:00"], "Ubicacion": ["CUEVA GAMER"] }
    ];

    // â”€â”€ RELOJ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function mostrarHora() {
      const now = new Date();
      document.getElementById('hora-actual').textContent =
        now.getHours().toString().padStart(2,'0') + ':' +
        now.getMinutes().toString().padStart(2,'0');
    }
    mostrarHora();
    setInterval(mostrarHora, 1000);

    // â”€â”€ MENÃš INICIO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function toggleStartMenu() {
      const m = document.getElementById('start-menu');
      m.style.display = m.style.display === 'none' ? 'flex' : 'none';
    }
    document.addEventListener('click', e => {
      if (!e.target.closest('.start-button') && !e.target.closest('.start-menu'))
        document.getElementById('start-menu').style.display = 'none';
    });

    // â”€â”€ CERRAR / MINIMIZAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function closeWin(btn) { btn.closest('.win98-window').style.display = 'none'; }
    function toggleMinimize(btn) {
      const body = btn.closest('.win98-window').querySelector('.win98-body, .main-body');
      if (body) body.style.display = body.style.display === 'none' ? '' : 'none';
    }
    function toggleMaximize(id) {
      const w = document.getElementById(id);
      if (w.dataset.maximized === '1') {
        w.style.cssText = w.dataset.prevStyle;
        w.dataset.maximized = '0';
      } else {
        w.dataset.prevStyle = w.style.cssText;
        w.style.cssText = 'position:fixed;top:0;left:0;width:100vw;height:calc(100vh - 40px);z-index:500;display:block;';
        w.dataset.maximized = '1';
      }
    }

    // â”€â”€ VENTANA PRINCIPAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function openMainWindow() {
      const w = document.getElementById('win-main');
      w.style.display = 'block';
      w.style.zIndex = getTopZ();
      makeWinDraggable(w);
    }

    // â”€â”€ HORARIO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function openHorario() {
      const w = createWindow('ğŸ“… Horario', 380, `
        <p style="margin-bottom:10px;font-weight:bold;">Selecciona un dÃ­a:</p>
        <div class="dia-grid">
          ${["LUNES","MARTES","MIERCOLES","JUEVES","VIERNES","SABADO","DOMINGO"].map(d =>
            `<button class="win98-day-btn" onclick="mostrarHorarioDia('${d}')">${d}</button>`
          ).join('')}
        </div>
      `);
      document.querySelector('.desktop').appendChild(w);
      makeWinDraggable(w);
    }

    function mostrarHorarioDia(dia) {
      const items = horarioData.filter(i => i.DÃ­a.includes(dia));
      const rows = items.length
        ? items.map(i => {
            const idx = i.DÃ­a.indexOf(dia);
            return `<tr><td>${i.Actividad}</td><td>${i.Hora[idx]}</td><td>${i.Ubicacion[idx]}</td></tr>`;
          }).join('')
        : '<tr><td colspan="3">Sin actividades.</td></tr>';

      const w = createWindow(`ğŸ“… ${dia}`, 420, `
        <table class="schedule-table">
          <thead><tr><th>Actividad</th><th>Hora</th><th>Lugar</th></tr></thead>
          <tbody>${rows}</tbody>
        </table>
      `);
      document.querySelector('.desktop').appendChild(w);
      makeWinDraggable(w);
    }

    // â”€â”€ PDF â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function openMathPDFWindow(url, title) {
      const w = createWindow('ğŸ“„ ' + title, 860, `
        <iframe src="${url}#view=FitH" style="width:100%;height:70vh;border:none;display:block;"></iframe>
      `);
      w.style.width = 'min(900px, 95vw)';
      document.querySelector('.desktop').appendChild(w);
      makeWinDraggable(w);
    }

    // â”€â”€ UTILIDADES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let zCounter = 100;
    function getTopZ() { return ++zCounter; }

    function createWindow(title, width, bodyHTML) {
      const w = document.createElement('div');
      w.className = 'win98-window';
      w.style.cssText = `top:${60+Math.random()*80}px;left:${80+Math.random()*120}px;width:${width}px;z-index:${getTopZ()};`;
      w.innerHTML = `
        <div class="win98-titlebar">
          <span class="win98-title">${title}</span>
          <div class="win98-controls">
            <button class="win98-btn minimize" onclick="toggleMinimize(this)">_</button>
            <button class="win98-btn close" onclick="this.closest('.win98-window').remove()">âœ•</button>
          </div>
        </div>
        <div class="win98-body">${bodyHTML}</div>
      `;
      w.addEventListener('mousedown', () => w.style.zIndex = getTopZ());
      return w;
    }

    function makeWinDraggable(win) {
      const bar = win.querySelector('.win98-titlebar');
      let ox, oy;
      bar.addEventListener('mousedown', e => {
        ox = e.clientX - win.offsetLeft;
        oy = e.clientY - win.offsetTop;
        const mm = e2 => { win.style.left = (e2.clientX-ox)+'px'; win.style.top = (e2.clientY-oy)+'px'; };
        const mu = () => { document.removeEventListener('mousemove',mm); document.removeEventListener('mouseup',mu); };
        document.addEventListener('mousemove', mm);
        document.addEventListener('mouseup', mu);
      });
    }

    // Hacer arrastrables las ventanas iniciales
    document.querySelectorAll('.win98-window').forEach(makeWinDraggable);
    document.querySelectorAll('.win98-window').forEach(w =>
      w.addEventListener('mousedown', () => w.style.zIndex = getTopZ())
    );

    // â”€â”€ CONTRASEÃ‘A â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function pedirContrasena() {
      const w = createWindow('ğŸ”’ Ãrea Privada', 300, `
        <p style="margin-bottom:10px;">Ingresa la contraseÃ±a:</p>
        <input type="password" id="pw-input" class="win98-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢" style="width:100%;margin-bottom:10px;">
        <button class="win98-ok-btn" onclick="checkPw()">Aceptar</button>
        <button class="win98-ok-btn" onclick="this.closest('.win98-window').remove()">Cancelar</button>
      `);
      document.querySelector('.desktop').appendChild(w);
      makeWinDraggable(w);
    }
    function checkPw() {
      const val = document.getElementById('pw-input').value;
      if (val === '057721') { window.location.href = '/horarios'; }
      else {
        const w = createWindow('âš  Error', 240, '<p>ContraseÃ±a incorrecta.</p><button class="win98-ok-btn" onclick="this.closest(\'.win98-window\').remove()">OK</button>');
        document.querySelector('.desktop').appendChild(w);
        makeWinDraggable(w);
      }
    }

    // â”€â”€ MENSAJE SISTEMA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function openWindow() {
      if (typeof frasesCulturaPop !== 'undefined') {
        const msg = frasesCulturaPop[Math.floor(Math.random() * frasesCulturaPop.length)];
        const w = createWindow('ğŸ’¬ Mensaje del sistema', 300, `<p>${msg}</p><button class="win98-ok-btn" onclick="this.closest('.win98-window').remove()">OK</button>`);
        document.querySelector('.desktop').appendChild(w);
        makeWinDraggable(w);
      }
    }
    // â”€â”€ CONFIRMACIÃ“N SALIDA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function confirmarSalida(destino) {
      const w = createWindow('âš  Salir del sistema', 300, `
        <div style="display:flex;gap:12px;align-items:flex-start;margin-bottom:14px;">
          <span style="font-size:32px;line-height:1;">ğŸ–¥ï¸</span>
          <p style="font-size:11px;line-height:1.6;">Â¿Deseas salir del sistema operativo actual?<br><span style="color:#555;">Se abrirÃ¡ una aplicaciÃ³n externa.</span></p>
        </div>
        <div style="display:flex;justify-content:center;gap:6px;">
          <button class="win98-ok-btn" onclick="window.location.href='${destino}'">SÃ­</button>
          <button class="win98-ok-btn" onclick="this.closest('.win98-window').remove()">No</button>
        </div>
      `);
      w.style.zIndex = 99998;
      document.querySelector('.desktop').appendChild(w);
      makeWinDraggable(w);
    }
    </script>
</html>